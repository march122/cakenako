;/*FB_PKG_DELIM*/

__d("MWBlockedTombstoneMessage.react",["fbt","MWChatBubbleEmphasisRing.react","MWPVisibleMessageContext.react","MWV2TombstonedMessage.react","MWXPressable.react","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=(j||(j=d("react"))).c,l=j,m={bubble:{paddingBottom:"x1120s5i",$$css:!0},bubbleReply:{paddingBottom:"xwib8y2",$$css:!0}};b={ORIGINAL_MESSAGE:"original-message",REPLIED_TO:"replied-to"};function a(a){var b=k(13),e=a.isLastMessageInGroup,f=a.messageId,g=a.onClick;a=a.source;var j;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(j=h._("__JHASH__IgHPZSLlYoi__JHASH__"),b[0]=j):j=b[0];j=j;var n=d("MWPVisibleMessageContext.react").useMWPVisibleMessageContext();n=n.visibleMessage;n=(n==null?void 0:n.source)==="Pinned"&&(n==null?void 0:n.messageId)===f;b[1]!==n||b[2]!==a?(f=n?l.jsx(c("MWChatBubbleEmphasisRing.react"),{connectBottom:!1,connectTop:!1,hasXMA:!1,outgoing:!1,precedesXMA:!1,children:l.jsx(c("MWV2TombstonedMessage.react"),{connectBottom:!1,connectTop:!1,isOutgoing:!1,isReply:a==="replied-to",children:j})}):l.jsx(c("MWV2TombstonedMessage.react"),{connectBottom:!1,connectTop:!1,isOutgoing:!1,isReply:a==="replied-to",children:j}),b[1]=n,b[2]=a,b[3]=f):f=b[3];j=f;n=e===!1&&m.bubble;f=a==="replied-to"&&m.bubbleReply;b[4]!==n||b[5]!==f?(e=(i||(i=c("stylex")))(n,f),b[4]=n,b[5]=f,b[6]=e):e=b[6];b[7]!==g||b[8]!==j?(a=l.jsx(c("MWXPressable.react"),{onPress:g,overlayDisabled:!0,children:j}),b[7]=g,b[8]=j,b[9]=a):a=b[9];b[10]!==e||b[11]!==a?(n=l.jsx("div",{className:e,"data-testid":void 0,children:a}),b[10]=e,b[11]=a,b[12]=n):n=b[12];return n}g.MWBlockedTombstoneMessageSource=b;g.MWBlockedTombstoneMessage=a}),226);
__d("MWBlockingProtectionLogging",["I64","react","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).c,k=c("requireDeferred")("MwbGroupBlockeeMessagesTapToRevealActionFalcoEvent").__setRef("MWBlockingProtectionLogging");function a(a){var b=j(2),c;b[0]!==a.threadKey?(c=function(){k.onReady(function(b){return b.log(function(){return{entry_point:22,source:3,source_type:0,thread_id:(i||(i=d("I64"))).to_string(a.threadKey)}})})},b[0]=a.threadKey,b[1]=c):c=b[1];return c}g.useLogTapToReviewAction=a}),98);
__d("MWUnsupportedXMA.react",["fbt","MWV2TombstonedMessage.react","react","react-strict-dom"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useEffect,l=b.c,m={extraPaddingBottom:{paddingTop:"x1iorvi4",$$css:!0},extraPaddingTop:{paddingTop:"x1iorvi4",$$css:!0}};function a(a){var b=l(9),e=a.mediaRenderQpl,f=a.nextMessage;a=a.prevMessage;var g,i;b[0]!==e?(g=function(){e==null?void 0:e.endSuccess()},i=[e],b[0]=e,b[1]=g,b[2]=i):(g=b[1],i=b[2]);k(g,i);g=a&&m.extraPaddingTop;i=f&&m.extraPaddingBottom;b[3]!==g||b[4]!==i?(a=[g,i],b[3]=g,b[4]=i,b[5]=a):a=b[5];b[6]===Symbol["for"]("react.memo_cache_sentinel")?(f=j.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:!1,children:h._("__JHASH__-GvVFaMikWU__JHASH__")}),b[6]=f):f=b[6];b[7]!==a?(g=j.jsx(d("react-strict-dom").html.div,{style:a,children:f}),b[7]=a,b[8]=g):g=b[8];return g}g["default"]=a}),226);
__d("MWXMAV2AttachmentHscrollLayout.react",["FDSHScroll.react","MWXMessageBubbleCornerStyles.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(j||d("react")).c,l=h||(h=c("react")),m=284,n={centerElement:{borderTopStartRadius:"x1lcm9me",borderTopEndRadius:"x1yr5g0i",borderBottomEndRadius:"xrt01vj",borderBottomStartRadius:"x10y3i5r",$$css:!0},firstElement:{borderBottomEndRadius:"xrt01vj",borderTopEndRadius:"x1yr5g0i",$$css:!0},lastElement:{borderBottomStartRadius:"x10y3i5r",borderTopStartRadius:"x1lcm9me",$$css:!0},root:{overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0}};function a(a){var b=k(21),e=a.children,f=a.connectBottom,g=a.connectTop;a=a.outgoing;a=a?"right":"left";var h,j,o,p,q,r;if(b[0]!==a||b[1]!==f||b[2]!==g||b[3]!==e){var s=d("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:a,connectBottom:f,connectTop:g}),t=e.length;b[10]===Symbol["for"]("react.memo_cache_sentinel")?(r="x1xgufrq xh8yej3 x1bu0bv6",b[10]=r):r=b[10];h=d("FDSHScroll.react").Container;b[11]===Symbol["for"]("react.memo_cache_sentinel")?(j={minWidth:m,type:"responsive"},b[11]=j):j=b[11];o=4;p=!0;q=e.map(function(a,b){var e=b===0,f=b===t-1,g=!e&&!f;return l.jsx(d("FDSHScroll.react").Child,{children:l.jsx("div",{className:(i||(i=c("stylex")))(n.root,s,e&&n.firstElement,g&&n.centerElement,f&&n.lastElement),children:a},b)},b)});b[0]=a;b[1]=f;b[2]=g;b[3]=e;b[4]=h;b[5]=j;b[6]=o;b[7]=p;b[8]=q;b[9]=r}else h=b[4],j=b[5],o=b[6],p=b[7],q=b[8],r=b[9];b[12]!==h||b[13]!==j||b[14]!==o||b[15]!==p||b[16]!==q?(a=l.jsx(h,{cardWidth:j,gap:o,reduceArrowSize:p,children:q}),b[12]=h,b[13]=j,b[14]=o,b[15]=p,b[16]=q,b[17]=a):a=b[17];b[18]!==r||b[19]!==a?(f=l.jsx("div",{className:r,children:a}),b[18]=r,b[19]=a,b[20]=f):f=b[20];return f}g["default"]=a}),98);
__d("MWXMAV2AttachmentSingleLayout.react",["MWLSThreadDisplayContext","MWXMessageBubbleCornerStyles.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(j||d("react")).c,l=h||(h=c("react")),m={cardWidth:{maxWidth:"xw5ewwj",width:"xh8yej3",$$css:!0},cardWidthChatTab:{maxWidth:"x1i5r0r9",width:"xh8yej3",$$css:!0},root:{overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0}};function a(a){var b=k(8),e=a.children,f=a.connectBottom,g=a.connectTop;a=a.outgoing;var h=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();h=h==="ChatTab";a=a?"right":"left";if(b[0]!==a||b[1]!==f||b[2]!==g||b[3]!==h){var j=d("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:a,connectBottom:f,connectTop:g});j=(i||(i=c("stylex")))(m.root,!h&&m.cardWidth,h&&m.cardWidthChatTab,j);b[0]=a;b[1]=f;b[2]=g;b[3]=h;b[4]=j}else j=b[4];b[5]!==j||b[6]!==e?(a=l.jsx("div",{className:j,children:e}),b[5]=j,b[6]=e,b[7]=a):a=b[7];return a}g["default"]=a}),98);
__d("MWXMAV2AttachmentLayoutWrapper.react",["FBLogger","MSGDataclassTypes.flow","MWXMAV2AttachmentHscrollLayout.react","MWXMAV2AttachmentSingleLayout.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||(i=d("react"))).c,k=h||(h=c("react")),l=i.useEffect;function a(a){var b=j(13),e=a.children,f=a.connectBottom,g=a.connectTop,h=a.layoutType,i=a.mediaRenderQpl;a=a.outgoing;var m,n;b[0]!==i?(m=function(){i==null?void 0:i.addPoint("render-xma-v2-layout")},n=[i],b[0]=i,b[1]=m,b[2]=n):(m=b[1],n=b[2]);l(m,n);switch(h){case d("MSGDataclassTypes.flow").XmsgXmaLayoutType.Single:m=e[0];b[3]!==f||b[4]!==g||b[5]!==a||b[6]!==m?(n=k.jsx(c("MWXMAV2AttachmentSingleLayout.react"),{connectBottom:f,connectTop:g,outgoing:a,children:m}),b[3]=f,b[4]=g,b[5]=a,b[6]=m,b[7]=n):n=b[7];return n;case d("MSGDataclassTypes.flow").XmsgXmaLayoutType.Hscroll:b[8]!==f||b[9]!==g||b[10]!==a||b[11]!==e?(m=k.jsx(c("MWXMAV2AttachmentHscrollLayout.react"),{connectBottom:f,connectTop:g,outgoing:a,children:e}),b[8]=f,b[9]=g,b[10]=a,b[11]=e,b[12]=m):m=b[12];return m;default:throw c("FBLogger")("messenger_web_sharing").mustfixThrow("Unsupported XMA 2.0 layout type %s",d("MSGDataclassTypes.flow").XmsgXmaLayoutType.getName(h))}}g["default"]=a}),98);
__d("MWXMAV2AttachmentTemplateWrapper.react",["FBLogger","cr:12018","qex","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));e=h;var j=e.useEffect,k=e.c;function a(a){var d=k(6),e=a.content,f=a.mediaRenderQpl,g;d[0]!==f?(a=function(){f==null?void 0:f.addPoint("render-xma-v2-template")},g=[f],d[0]=f,d[1]=a,d[2]=g):(a=d[1],g=d[2]);j(a,g);a=e.custom_template_data;if(a==null)throw c("FBLogger")("messenger_web_sharing").mustfixThrow("Unexpected null custom_template_data for XMA 2.0");var h;bb0:switch(a.__typename){case"XMSGXmaBloksTemplateData":if(b("cr:12018")!=null&&c("qex")._("2958")===!0){d[3]!==f||d[4]!==a?(g=i.jsx(b("cr:12018"),{mediaRenderQpl:f,template:a}),d[3]=f,d[4]=a,d[5]=g):g=d[5];h=g}else throw c("FBLogger")("messenger_web_sharing").mustfixThrow("Unsupported XMA 2.0 template type %s",a.__typename);break bb0;default:throw c("FBLogger")("messenger_web_sharing").mustfixThrow("Unsupported XMA 2.0 template type %s",a.__typename)}return h}g["default"]=a}),98);
__d("MWXMAV2AttachmentContainer.react",["FBLogger","MWXMAV2AttachmentLayoutWrapper.react","MWXMAV2AttachmentTemplateWrapper.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).c,k=h||(h=c("react"));function a(a){var b=j(19),d=a.connectBottom,e=a.connectTop,f=a.mediaRenderQpl,g=a.outgoing;a=a.xmaDataclass;var h=a.layout_type;if(h==null)throw c("FBLogger")("messenger_web_sharing").mustfixThrow("Unexpected null layout_type for XMA 2.0");a=a.content;if(a==null)throw c("FBLogger")("messenger_web_product").mustfixThrow("Unexpected null content for XMA 2.0");if((a==null?void 0:a.__typename)==="XMSGXmaBloksContent")throw c("FBLogger")("messenger_web_product").mustfixThrow("XMSGXmaBloksContent is unsupported, Bloks XMAs should be using XMA 2.0");var i;b[0]!==a?(i=(a==null?void 0:a.__typename)==="XMSGXmaSingleContent"?[a]:a.list,b[0]=a,b[1]=i):i=b[1];a=i;b[2]!==e?(i=e?k.jsx("div",{className:"x1eb86dx x36qwtl xh8yej3"}):null,b[2]=e,b[3]=i):i=b[3];if(b[4]!==f||b[5]!==a){var l;b[7]!==f?(l=function(a,b){return k.jsx(c("MWXMAV2AttachmentTemplateWrapper.react"),{content:a,mediaRenderQpl:f},b)},b[7]=f,b[8]=l):l=b[8];l=a.map(l);b[4]=f;b[5]=a;b[6]=l}else l=b[6];b[9]!==d||b[10]!==e||b[11]!==h||b[12]!==f||b[13]!==g||b[14]!==l?(a=k.jsx(c("MWXMAV2AttachmentLayoutWrapper.react"),{connectBottom:d,connectTop:e,layoutType:h,mediaRenderQpl:f,outgoing:g,children:l}),b[9]=d,b[10]=e,b[11]=h,b[12]=f,b[13]=g,b[14]=l,b[15]=a):a=b[15];b[16]!==i||b[17]!==a?(d=k.jsxs(k.Fragment,{children:[i,a]}),b[16]=i,b[17]=a,b[18]=d):d=b[18];return d}g["default"]=a}),98);
__d("useAttachmentsProvider",["MAWMsg","cr:6442","cr:6851","qex","react","shouldUseImageGrouping","useMAWSeparateReadsSelector","useMWPGetAttachments"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).c;function j(a,b){var e;if(!((e=c("qex")._("60"))!=null?e:!1))return!1;if(!b)return!1;if(d("MAWMsg").isOptimistic(a))return!1;if(d("MAWMsg").isXMAMsg(a))return!1;e=c("shouldUseImageGrouping")(a,b);return e?!1:!0}function a(a,e){var f=i(7),g=c("useMWPGetAttachments")(a),h=b("cr:6442")(a,e),l=b("cr:6851")(a,e),m;f[0]!==a||f[1]!==l||f[2]!==h?(m=d("MAWMsg").isReceiverFetchMsg(a)?l:h,f[0]=a,f[1]=l,f[2]=h,f[3]=m):m=f[3];l=m;f[4]!==a||f[5]!==e?(h=j(a,e),f[4]=a,f[5]=e,f[6]=h):h=f[6];m=d("useMAWSeparateReadsSelector").useMAWSeparateReadsArraySelector("Attachment",l,g,h,k);return m}function k(a,b){return a.attachmentFbid.localeCompare(b.attachmentFbid)}g["default"]=a}),98);
__d("useXMAV2Provider",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).c;function a(a){var b=i(4);if(a.length===0)return null;a=a[0].xmaDataclass;if(a==null)return null;var c,d,e;if(b[0]!==a){e=Symbol["for"]("react.early_return_sentinel");bb0:{d=JSON.parse(a);if(d==null){e=null;break bb0}var f=d.content;if(f==null){e=null;break bb0}c=!0;f=(f==null?void 0:f.__typename)==="XMSGXmaSingleContent"?[f]:f.list;f==null?void 0:f.forEach(function(a){a=a.custom_template_data;if(a==null){c=!1;return}if(!j(a.__typename)){c=!1;return}})}b[0]=a;b[1]=c;b[2]=d;b[3]=e}else c=b[1],d=b[2],e=b[3];return e!==Symbol["for"]("react.early_return_sentinel")?e:c?d:null}function j(a){switch(a){case"XMSGXmaBloksTemplateData":return!0;default:return!1}}g["default"]=a}),98);
__d("MWMessageRowAttachment.react",["CometErrorBoundary.react","I64","LSMessagingThreadTypeUtil","MWMessageListAttachmentContainer.react","MWUnsupportedXMA.react","MWXMAV2AttachmentContainer.react","MetaConfig","gkx","react","useAttachmentsProvider","useXMAV2Provider"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||(h=d("react"))).c,k=h;function a(a){var b=j(34),e=a.connectBottom,f=a.connectTop,g=a.hasMessageEmphasisRing,h=a.hasText,l=a.isSearchPluginAttachment,m=a.isSecureMessage,n=a.mediaRenderQpl,o=a.message,p=a.navigateToRouteForMediaViewer,q=a.nextMessage,r=a.outgoing,s=a.prevMessage,t=a.renderAttachment;a=a.threadType;var u;b[0]!==a?(u=d("LSMessagingThreadTypeUtil").isArmadilloSecure(a),b[0]=a,b[1]=u):u=b[1];a=u;u=c("useAttachmentsProvider")(o,a);a=c("useXMAV2Provider")(u);if(l){n==null?void 0:n.endSuccess();return null}if(t!=null&&m){b[2]!==t||b[3]!==o||b[4]!==s||b[5]!==q||b[6]!==r||b[7]!==h||b[8]!==n?(u=t(o,s,q,r,h,n),b[2]=t,b[3]=o,b[4]=s,b[5]=q,b[6]=r,b[7]=h,b[8]=n,b[9]=u):u=b[9];return u}if(a!=null&&!m){b[10]!==n||b[11]!==q||b[12]!==s?(l=function(){return k.jsx(c("MWUnsupportedXMA.react"),{mediaRenderQpl:n,nextMessage:q,prevMessage:s})},b[10]=n,b[11]=q,b[12]=s,b[13]=l):l=b[13];b[14]!==e||b[15]!==f||b[16]!==n||b[17]!==r||b[18]!==a?(t=k.jsx(c("MWXMAV2AttachmentContainer.react"),{connectBottom:e,connectTop:f,mediaRenderQpl:n,outgoing:r,xmaDataclass:a}),b[14]=e,b[15]=f,b[16]=n,b[17]=r,b[18]=a,b[19]=t):t=b[19];b[20]!==l||b[21]!==t?(u=k.jsx(c("CometErrorBoundary.react"),{fallback:l,children:t}),b[20]=l,b[21]=t,b[22]=u):u=b[22];return u}b[23]!==o||b[24]!==r||b[25]!==n||b[26]!==q||b[27]!==s||b[28]!==e||b[29]!==f||b[30]!==g||b[31]!==h||b[32]!==p?(m=(i||(i=d("I64"))).to_string(o.threadKey)===c("MetaConfig")._("83")&&!r&&c("gkx")("5131")?k.jsx(c("MWUnsupportedXMA.react"),{mediaRenderQpl:n,nextMessage:q,prevMessage:s}):k.jsx(c("MWMessageListAttachmentContainer.react"),{connectBottom:e,connectTop:f,hasEmphasisRing:g,hasText:h,mediaRenderQpl:n,message:o,navigateToRouteForMediaViewer:p,outgoing:r}),b[23]=o,b[24]=r,b[25]=n,b[26]=q,b[27]=s,b[28]=e,b[29]=f,b[30]=g,b[31]=h,b[32]=p,b[33]=m):m=b[33];return m}g["default"]=a}),98);
__d("MWPMessageLoggingWrapper.react",["CometHeroInteractionWithDiv.react","MWChatInteraction","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||(i=d("react"))).c,k=i;function a(a){var b=j(13),e=a.children,f=a.messageId,g=a.optimisticMessageId;a=a.xstyle;var i;b[0]!==f?(i=d("MWChatInteraction").get(f),b[0]=f,b[1]=i):i=b[1];f=i;b[2]!==g?(i=d("MWChatInteraction").get(g),b[2]=g,b[3]=i):i=b[3];g=i;f=(i=f)!=null?i:g;if(f==null){b[4]!==a?(i=(h||(h=c("stylex")))(a),b[4]=a,b[5]=i):i=b[5];b[6]!==i||b[7]!==e?(g=k.jsx("div",{className:i,children:e}),b[6]=i,b[7]=e,b[8]=g):g=b[8];return g}else{b[9]!==f||b[10]!==a||b[11]!==e?(i=k.jsx(c("CometHeroInteractionWithDiv.react"),{interactionDesc:"MESSAGE_RENDER",interactionUUID:f,pageletName:"Message",xstyle:a,children:e}),b[9]=f,b[10]=a,b[11]=e,b[12]=i):i=b[12];return i}}g["default"]=a}),98);
__d("MWV2ChatUnsupportedMessage.react",["fbt","FBLogger","MWV2TombstonedMessage.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i;function a(a){var b=j(3);a=a.isOutgoing;c("FBLogger")("messenger_browser_clients").warn("Unsupported message type");var d;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=h._("__JHASH__pL9gn5HLY3n__JHASH__"),b[0]=d):d=b[0];d=d;b[1]!==a?(d=k.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:a,children:d}),b[1]=a,b[2]=d):d=b[2];return d}g.MWV2ChatUnsupportedMessage=a}),226);
__d("MWMessageRowMessageComponent.react",["CometErrorBoundary.react","GroupsCometChatsEngagementLogger","I64","Int64Hooks","LSMessagingThreadTypeUtil","MWBlockedTombstoneMessage.react","MWBlockingProtectionLogging","MWClickedMessageContext.react","MWGroupBlockingProtectionUtils","MWMessageReactionsContainer.react","MWMessageRowAttachment.react","MWPBaseMessage.react","MWPMessageFooter.react","MWPMessageLoggingWrapper.react","MWPMessageReactions.react","MWV2ChatBubbleContainer.react","MWV2ChatEmoji.react","MWV2ChatErrorBubble.react","MWV2ChatText.react","MWV2ChatUnsentMessage.react","MWV2ChatUnsupportedMessage.react","MWV2MessageTimestampTooltip.react","MWXPressable.react","MetaConfig","ReQL","asyncToGeneratorRuntime","cr:120","justknobx","mwpMessageIsReply","promiseDone","react","useIsMultiReactionEnabled","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react"));e=j;f=e.memo;var l=e.useEffect,m=e.c;function a(a){var e=m(86),f=a.hasClickState,g=a.hasMessageEmphasisRing,j=a.isFirstMessageInGroup,n=a.isLastMessageInGroup,o=a.isSearchPluginAttachment,p=a.isSecureMessage,q=a.mediaRenderQpl,r=a.message,s=a.navigateToRouteForMediaViewer,t=a.nextMessage,u=a.offlineAttachmentId,v=a.outgoing,w=a.prevMessage,x=a.reactions,y=a.reactionsV2,z=a.renderAttachment,A=a.threadType,B=f===void 0?!1:f;a=c("MWClickedMessageContext.react").useHook();var C=a.clickedMessageId,D=a.fetchMessageSeenCount,E=a.hasError,F=a.setClickedMessageId,G=(h||(h=c("useReStore")))();e[0]!==A?(f=d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(A),e[0]=A,e[1]=f):f=e[1];var H=f,I=d("useIsMultiReactionEnabled").useIsMultiReactEnabled(r.threadKey);e[2]!==r?(a=c("mwpMessageIsReply")(r),e[2]=r,e[3]=a):a=e[3];var J=a;e[4]!==G||e[5]!==r.threadKey||e[6]!==r.messageId||e[7]!==C||e[8]!==E||e[9]!==F||e[10]!==D?(f=function(){if(window.getSelection().toString()!=="")return;c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(G.tables.threads).getKeyRange(r.threadKey))),b=a==null?null:yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(G.tables.community_folders).getKeyRange(a.parentThreadKey));a!=null&&b!=null&&d("GroupsCometChatsEngagementLogger").log({action:"tap",client_extras:{mid:r.messageId},community_id:(i||(i=d("I64"))).to_string(b.folderId),event:"render_seen_count",group_id:i.to_string(b.fbGroupId),source:"message_bubble",surface:"thread_view",thread_id:i.to_string(a.threadKey)});if(C===r.messageId&&!E)return F(null);else return D(r.threadKey,r.messageId,b)})())},a=[G,C,r.messageId,r.threadKey,E,F,D],e[4]=G,e[5]=r.threadKey,e[6]=r.messageId,e[7]=C,e[8]=E,e[9]=F,e[10]=D,e[11]=f,e[12]=a):(f=e[11],a=e[12]);var K=d("Int64Hooks").useCallbackInt64(f,a),L=d("MWBlockingProtectionLogging").useLogTapToReviewAction(r);e[13]!==q||e[14]!==r.threadKey||e[15]!==z||e[16]!==o||e[17]!==p?(f=function(){q==null?void 0:q.addPoint("render-message-row-message-component",{bool:{is_chat_entity_thread:(i||(i=d("I64"))).to_string(r.threadKey)===c("MetaConfig")._("83"),is_message_row_message_componentrender_attachment_prop_set:z!=null,is_search_plugin:o,is_secure_message:p}})},a=[o,p,q,r.threadKey,z],e[13]=q,e[14]=r.threadKey,e[15]=z,e[16]=o,e[17]=p,e[18]=f,e[19]=a):(f=e[18],a=e[19]);l(f,a);e[20]!==v||e[21]!==J?(f=function(){return k.jsx(c("MWV2ChatErrorBubble.react"),{isOutgoing:v,isReply:J})},e[20]=v,e[21]=J,e[22]=f):f=e[22];e[23]!==g||e[24]!==o||e[25]!==p||e[26]!==q||e[27]!==r||e[28]!==s||e[29]!==t||e[30]!==v||e[31]!==w||e[32]!==z||e[33]!==A?(a=function(a,b,d){return k.jsx(c("MWMessageRowAttachment.react"),{connectBottom:b,connectTop:a,hasMessageEmphasisRing:g,hasText:d,isSearchPluginAttachment:o,isSecureMessage:p,mediaRenderQpl:q,message:r,navigateToRouteForMediaViewer:s,nextMessage:t,outgoing:v,prevMessage:w,renderAttachment:z,threadType:A})},e[23]=g,e[24]=o,e[25]=p,e[26]=q,e[27]=r,e[28]=s,e[29]=t,e[30]=v,e[31]=w,e[32]=z,e[33]=A,e[34]=a):a=e[34];var M;e[35]!==g||e[36]!==p||e[37]!==r?(M=function(){return k.jsx(c("MWV2ChatEmoji.react"),{hasEmphasisRing:g,isSecureMessage:p,message:r})},e[35]=g,e[36]=p,e[37]=r,e[38]=M):M=e[38];var N;e[39]!==g||e[40]!==r||e[41]!==v||e[42]!==p?(N=function(a,b,d,e){return k.jsx(c("MWV2ChatBubbleContainer.react"),{connectBottom:d,connectTop:b,hasEmphasisRing:g,message:r,outgoing:v,precedesXMA:e,children:k.jsx(c("MWV2ChatText.react"),{isSecureMessage:p,message:r,outgoing:v})})},e[39]=g,e[40]=r,e[41]=v,e[42]=p,e[43]=N):N=e[43];var O;e[44]!==r||e[45]!==u||e[46]!==H||e[47]!==B||e[48]!==K?(O=function(a,d){var e;e=k.jsx(c("MWPMessageLoggingWrapper.react"),{messageId:r.messageId,optimisticMessageId:(e=u)!=null?e:r.offlineThreadingId,xstyle:d,children:H&&!c("justknobx")._("641")&&b("cr:120")?k.jsx(b("cr:120"),{message:r,children:a}):k.jsx(c("MWV2MessageTimestampTooltip.react"),{message:r,children:a})});return B?k.jsx(c("MWXPressable.react"),{onPress:K,overlayDisabled:!0,xstyle:d,children:e}):e},e[44]=r,e[45]=u,e[46]=H,e[47]=B,e[48]=K,e[49]=O):O=e[49];var P;e[50]!==I||e[51]!==y||e[52]!==v||e[53]!==x||e[54]!==r?(P=function(){if(I)return null;var a=y!=null&&y.length>0;return k.jsx(d("MWPMessageFooter.react").MWPMessageFooter,{outgoing:v,children:!a&&x.length<1?null:k.jsx(d("MWPMessageReactions.react").MWPMessageReactions,{message:r,outgoing:v,reactions:x,reactionsV2:a?y:void 0,children:function(b,d,e,f,g){return k.jsx(c("MWMessageReactionsContainer.react"),{count:d,emojis:b,message:f,reactions:e,reactionsV2:a?y:void 0,threadKey:g})}})})},e[50]=I,e[51]=y,e[52]=v,e[53]=x,e[54]=r,e[55]=P):P=e[55];var Q=d("MWGroupBlockingProtectionUtils").useShouldEnableBlockingProtection(r.threadKey)?function(a){var b=function(){a(),L()};return k.jsx(d("MWBlockedTombstoneMessage.react").MWBlockedTombstoneMessage,{isLastMessageInGroup:n,messageId:r.messageId,onClick:b,source:d("MWBlockedTombstoneMessage.react").MWBlockedTombstoneMessageSource.ORIGINAL_MESSAGE})}:void 0,R;e[56]!==r||e[57]!==p||e[58]!==v?(R=function(){return k.jsx(c("MWV2MessageTimestampTooltip.react"),{message:r,children:k.jsx(d("MWV2ChatUnsentMessage.react").MWV2ChatUnsentMessage,{isSecureMessage:p,message:r,outgoing:v})})},e[56]=r,e[57]=p,e[58]=v,e[59]=R):R=e[59];var S;e[60]!==r||e[61]!==v?(S=function(){return k.jsx(c("MWV2MessageTimestampTooltip.react"),{message:r,children:k.jsx(d("MWV2ChatUnsupportedMessage.react").MWV2ChatUnsupportedMessage,{isOutgoing:v})})},e[60]=r,e[61]=v,e[62]=S):S=e[62];var T;e[63]!==j||e[64]!==n||e[65]!==o||e[66]!==p||e[67]!==q||e[68]!==r||e[69]!==t||e[70]!==v||e[71]!==w||e[72]!==x||e[73]!==y||e[74]!==a||e[75]!==M||e[76]!==N||e[77]!==O||e[78]!==P||e[79]!==Q||e[80]!==R||e[81]!==S?(T=k.jsx(c("MWPBaseMessage.react"),{checkEmoticon:!0,isFirstMessageInGroup:j,isLastMessageInGroup:n,isSearchPluginAttachment:o,isSecureMessage:p,mediaRenderQpl:q,message:r,nextMessage:t,outgoing:v,prevMessage:w,reactions:x,reactionsV2:y,renderAttachment:a,renderEmoji:M,renderMessageBubble:N,renderMessageContainer:O,renderMessageFooter:P,renderMessageFromBlockee:Q,renderUnsentMessage:R,renderUnsupportedMessage:S}),e[63]=j,e[64]=n,e[65]=o,e[66]=p,e[67]=q,e[68]=r,e[69]=t,e[70]=v,e[71]=w,e[72]=x,e[73]=y,e[74]=a,e[75]=M,e[76]=N,e[77]=O,e[78]=P,e[79]=Q,e[80]=R,e[81]=S,e[82]=T):T=e[82];e[83]!==f||e[84]!==T?(j=k.jsx(c("CometErrorBoundary.react"),{fallback:f,children:T}),e[83]=f,e[84]=T,e[85]=j):j=e[85];return j}e=f(a);g.MWMessageRowMessageComponent=e}),98);
__d("MWRepliesGIF.react",["fbt","CometPlaceholder.react","I64","LSMediaUrlAttachment","MAWGetIsMediaDownloadStatusEnabled","MWRepliesImage.react","MWXMessageReplyBubble.react","ReQL","ReQLSuspense","cr:9765","react","useMAWMediaStatusUIState","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||(k=d("react"));e=k;var m=e.useEffect,n=e.c;function o(a){var e=n(29),g=a.isSecureMessage,k=a.mediaRenderQpl,o=a.message;a=a.outgoing;g=g===void 0?!1:g;var p,q;e[0]!==k?(p=function(){k==null?void 0:k.addPoint("render-replies-gif-impl")},q=[k],e[0]=k,e[1]=p,e[2]=q):(p=e[1],q=e[2]);m(p,q);var r=(i||(i=c("useReStore")))();e[3]!==o.replyAttachmentPlaintextHash||e[4]!==o.replySourceId||e[5]!==o.replyAttachmentId||e[6]!==o.threadKey||e[7]!==r.tables.attachments?(p=function(){var a,b=(a=o.replyAttachmentPlaintextHash)!=null?a:null,c=(a=o.replySourceId)!=null?a:"";if(b!=null)return d("ReQL").fromTableAscending(r.tables.attachments).filter(function(a){return a.attachmentFbid===b&&a.messageId===c});else{a=(a=o.replyAttachmentId)!=null?a:(j||(j=d("I64"))).zero;return d("ReQL").fromTableAscending(r.tables.attachments).getKeyRange(o.threadKey,c,(j||(j=d("I64"))).to_string(a))}},e[3]=o.replyAttachmentPlaintextHash,e[4]=o.replySourceId,e[5]=o.replyAttachmentId,e[6]=o.threadKey,e[7]=r.tables.attachments,e[8]=p):p=e[8];e[9]!==r||e[10]!==o?(q=[r,o],e[9]=r,e[10]=o,e[11]=q):q=e[11];p=d("ReQLSuspense").useFirst(p,q,f.id+":48");e[12]!==g||e[13]!==p?(q=g&&d("MAWGetIsMediaDownloadStatusEnabled").getIsMediaDownloadStatusEnabled()?p:null,e[12]=g,e[13]=p,e[14]=q):q=e[14];q=q;q=c("useMAWMediaStatusUIState")(q,k);q=q.downloadStatus;var s;if(p!=null)if(q!=="downloaded"&&g&&d("MAWGetIsMediaDownloadStatusEnabled").getIsMediaDownloadStatusEnabled())s=null;else if(b("cr:9765")==null||!g){e[15]!==p?(q=d("LSMediaUrlAttachment").previewUrl(p),e[15]=p,e[16]=q):q=e[16];s=q}else{e[17]!==p.attachmentFbid||e[18]!==k?(g=b("cr:9765").getAttachmentBlobNonOptional(p.attachmentFbid,"MWRepliesGIF",k),e[17]=p.attachmentFbid,e[18]=k,e[19]=g):g=e[19];s=g}if(s!=null&&s!==""){e[20]!==o.replyMediaPreviewHeight||e[21]!==o.replyMediaPreviewWidth||e[22]!==k||e[23]!==a||e[24]!==s?(q=l.jsx(c("MWRepliesImage.react"),{height:o.replyMediaPreviewHeight,mediaRenderQpl:k,outgoing:a,src:s,width:o.replyMediaPreviewWidth}),e[20]=o.replyMediaPreviewHeight,e[21]=o.replyMediaPreviewWidth,e[22]=k,e[23]=a,e[24]=s,e[25]=q):q=e[25];return q}else{e[26]===Symbol["for"]("react.memo_cache_sentinel")?(p=h._("__JHASH__kPmtZiB6viN__JHASH__"),e[26]=p):p=e[26];e[27]!==a?(g=l.jsx(c("MWXMessageReplyBubble.react"),{fontStyle:"italic",outgoing:a,children:p}),e[27]=a,e[28]=g):g=e[28];return g}}function a(a){var b=n(7),d;b[0]!==a?(d=babelHelpers["extends"]({},a),b[0]=a,b[1]=d):d=b[1];var e;b[2]!==d.mediaRenderQpl?(a=function(){var a;(a=d.mediaRenderQpl)==null?void 0:a.addPoint("render-replies-gif")},e=[d.mediaRenderQpl],b[2]=d.mediaRenderQpl,b[3]=a,b[4]=e):(a=b[3],e=b[4]);m(a,e);b[5]!==d?(a=l.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWRepliesGIF",children:l.jsx(o,babelHelpers["extends"]({},d))}),b[5]=d,b[6]=a):a=b[6];return a}g["default"]=a}),226);
__d("MWRepliesRollcallContribution.react",["fbt","CometBlurredBackgroundImage.react","CometPlaceholder.react","FDSImageCover.react","I64","Int64Hooks","LSFactory","LSIssuePointQueryForRollCallConversionStoredProcedure","MWXMessageReplyBubble.react","MWXProfilePhoto.react","MWXText.react","ReQL","ReQLSuspense","cr:2472","getLSMediaMessageReplyMediaUrl","isStringNullOrEmpty","promiseDone","react","stylex","useJSON","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=l||(l=d("react"));e=l;var n=e.useEffect,o=e.c,p=213,q=213,r={blurredImage:{borderTopStartRadius:"x1tlxs6b",borderTopEndRadius:"x1g8br2z",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",$$css:!0},outgoing:{borderBottomEndRadius:"xrt01vj",borderBottomStartRadius:"x230xth",$$css:!0},unblurredImageContainer:{borderTopStartRadius:"x1tlxs6b",borderTopEndRadius:"x1g8br2z",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",opacity:"x197sbye",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0}},s=function(a){a=c("isStringNullOrEmpty")(a.replyMessageText)?h._("__JHASH__YG4J77RBBDH__JHASH__"):b("cr:2472")==null?a.replyMessageText:b("cr:2472").unvault(a.replyMessageText);return a};function a(a){var b=o(10),d;b[0]!==a?(d=babelHelpers["extends"]({},a),b[0]=a,b[1]=d):d=b[1];var e;b[2]!==d.mediaRenderQpl?(a=function(){var a;(a=d.mediaRenderQpl)==null?void 0:a.addPoint("render-replies-rollcall-contribution")},e=[d.mediaRenderQpl],b[2]=d.mediaRenderQpl,b[3]=a,b[4]=e):(a=b[3],e=b[4]);n(a,e);b[5]!==d.message.replyAttachmentExtra?(a=Number.isNaN(Number(d.message.replyAttachmentExtra)),b[5]=d.message.replyAttachmentExtra,b[6]=a):a=b[6];e=a;b[7]!==e||b[8]!==d?(a=m.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWRepliesRollcallContribution",children:e?m.jsx(t,babelHelpers["extends"]({},d)):m.jsx(u,babelHelpers["extends"]({},d))}),b[7]=e,b[8]=d,b[9]=a):a=b[9];return a}function t(a){var b=o(16),d=a.message;a=a.outgoing;var e;b[0]!==d?(e=s(d),b[0]=d,b[1]=e):e=b[1];e=e;d=c("useJSON")((d=d.replyAttachmentExtra)!=null?d:"{}");var f=d.avatar_height,g=d.avatar_url,h=d.avatar_width;d=d.owner_name;var i;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(i="x6s0dn4 x78zum5 x1nhvcw1 x1gslohp x12nagc",b[2]=i):i=b[2];var j;b[3]!==g||b[4]!==f||b[5]!==h?(j=g!=null&&m.jsx("div",{className:"x1emribx",children:m.jsx(c("MWXProfilePhoto.react"),{"aria-label":"",size:24,source:{height:f,uri:g,width:h}})}),b[3]=g,b[4]=f,b[5]=h,b[6]=j):j=b[6];b[7]!==d?(g=d!=null&&m.jsx(c("MWXText.react"),{type:"meta2",children:d}),b[7]=d,b[8]=g):g=b[8];b[9]!==j||b[10]!==g?(f=m.jsxs("div",{className:i,children:[j,g]}),b[9]=j,b[10]=g,b[11]=f):f=b[11];b[12]!==a||b[13]!==f||b[14]!==e?(h=m.jsxs(c("MWXMessageReplyBubble.react"),{outgoing:a,children:[f,e]}),b[12]=a,b[13]=f,b[14]=e,b[15]=h):h=b[15];return h}function u(a){var b=o(45),e=a.mediaRenderQpl,g=a.message;a=a.outgoing;var h,l;b[0]!==e?(h=function(){e==null?void 0:e.addPoint("render-replies-rollcall-contribution-impl")},l=[e],b[0]=e,b[1]=h,b[2]=l):(h=b[1],l=b[2]);n(h,l);b[3]!==g?(h=s(g),b[3]=g,b[4]=h):h=b[4];l=h;var t=(i||(i=c("useReStore")))();if(b[5]!==g.replyAttachmentExtra){h=(k||(k=d("I64"))).of_string((h=g.replyAttachmentExtra)!=null?h:"0");b[5]=g.replyAttachmentExtra;b[6]=h}else h=b[6];var u=h;b[7]!==t.tables.roll_calls||b[8]!==u?(h=function(){return d("ReQL").fromTableAscending(t.tables.roll_calls).getKeyRange(u)},b[7]=t.tables.roll_calls,b[8]=u,b[9]=h):h=b[9];var v;b[10]!==t||b[11]!==u?(v=[t,u],b[10]=t,b[11]=u,b[12]=v):v=b[12];var w=d("ReQLSuspense").useFirst(h,v,f.id+":151"),x=g.threadKey;b[13]!==w||b[14]!==t||b[15]!==u||b[16]!==x?(h=function(){w||c("promiseDone")(t.runInTransaction(function(a){return c("LSIssuePointQueryForRollCallConversionStoredProcedure")(c("LSFactory")(a),{rollCallId:u,threadKey:x})},"readwrite",void 0,void 0,f.id+":160"))},v=[w,u,x,t],b[13]=w,b[14]=t,b[15]=u,b[16]=x,b[17]=h,b[18]=v):(h=b[17],v=b[18]);d("Int64Hooks").useEffectInt64(h,v);v=(h=w==null?void 0:w.isBlurred)!=null?h:!1;if(b[19]!==g){h=c("getLSMediaMessageReplyMediaUrl")(g);var y;b[24]!==g.replyMediaPreviewHeight?(y=g.replyMediaPreviewHeight!=null?(k||(k=d("I64"))).to_float(g.replyMediaPreviewHeight):0,b[24]=g.replyMediaPreviewHeight,b[25]=y):y=b[25];y=y;var z;b[26]!==g.replyMediaPreviewWidth?(z=g.replyMediaPreviewWidth!=null?(k||(k=d("I64"))).to_float(g.replyMediaPreviewWidth):0,b[26]=g.replyMediaPreviewWidth,b[27]=z):z=b[27];z=z;var A=Math.min(1,p/y),B=Math.min(1,q/z),C;b[28]!==A||b[29]!==B||b[30]!==y?(C=Math.round(y*Math.min(A,B)),b[28]=A,b[29]=B,b[30]=y,b[31]=C):C=b[31];y=C;b[32]!==A||b[33]!==B||b[34]!==z?(C=Math.round(z*Math.min(A,B)),b[32]=A,b[33]=B,b[34]=z,b[35]=C):C=b[35];A=C;B=c("isStringNullOrEmpty")(h);b[19]=g;b[20]=B;b[21]=y;b[22]=A;b[23]=h}else B=b[20],y=b[21],A=b[22],h=b[23];if(!B){b[36]!==v||b[37]!==y||b[38]!==A||b[39]!==a||b[40]!==h?(z=v?m.jsx("div",{style:{height:y,width:A},children:m.jsx(c("CometBlurredBackgroundImage.react"),{src:h,xstyle:[r.blurredImage,a&&r.outgoing]})}):m.jsx("div",{className:(j||(j=c("stylex")))([r.unblurredImageContainer,a&&r.outgoing]),style:{height:y,width:A},children:m.jsx(c("FDSImageCover.react"),{alt:"",src:h})}),b[36]=v,b[37]=y,b[38]=A,b[39]=a,b[40]=h,b[41]=z):z=b[41];return z}b[42]!==a||b[43]!==l?(C=m.jsx(c("MWXMessageReplyBubble.react"),{outgoing:a,children:l}),b[42]=a,b[43]=l,b[44]=C):C=b[44];return C}g["default"]=a}),226);
__d("MWRepliesText.react",["MWChatTextFormatting","MWChatTextTransform","MWXMessageReplyBubble.react","MWXMessageTextWithEntities.react","cr:2472","react","useStringWithSubstitutions"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useMemo;function a(a){var e=a.isSecureMessage,f=a.message,g=a.outgoing,h=a.text;a=j(function(){return{MessengerTextFormatting:[d("MWChatTextFormatting").messageRenderer]}},[]);var k=j(function(){return d("MWChatTextFormatting").getFormattingRanges(h)},[h]),l=j(function(){var a;return new Set(e?(a=(a=f.mentionIds)==null?void 0:a.split==null?void 0:a.split(","))!=null?a:[]:[])},[e,f.mentionIds]),m=b("cr:2472")==null?h:b("cr:2472").unvault(h);l=(l=(l=d("useStringWithSubstitutions").useStringWithMentionSubstitutionsAndUpdatedRanges(m,[],l))==null?void 0:l.textWithSubstitutions)!=null?l:m;return i.jsx(c("MWXMessageReplyBubble.react"),{outgoing:g,children:i.jsx("div",{className:"xi81zsa x126k92a",children:i.jsx(c("MWXMessageTextWithEntities.react"),{maxLength:120,maxLines:3,ranges:k,renderers:a,text:l,transforms:d("MWChatTextTransform").textTransformsNoVault,truncationStyle:"ellipsis-only",withParagraphs:!1})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWRepliesUnavailable.react",["fbt","MWXMessageReplyBubble.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i;function a(a){var b=j(3);a=a.outgoing;var d;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=h._("__JHASH__3TzRhHHRgwV__JHASH__"),b[0]=d):d=b[0];d=d;b[1]!==a?(d=k.jsx(c("MWXMessageReplyBubble.react"),{fontStyle:"italic",outgoing:a,children:d}),b[1]=a,b[2]=d):d=b[2];return d}g["default"]=a}),226);
__d("MWRepliesVideo.react",["fbt","ix","CometPlaceholder.react","I64","LSMediaUrlAttachment","MAWGetIsMediaDownloadStatusEnabled","MWXImage.react","MWXMessageImage.react","MWXMessageReplyBubble.react","MWXVideoStatusListener.react","ReQL","ReQLSuspense","cr:9765","react","useMAWMediaStatusUIState","useMWRepliesImageGetMaxDimensions","useReStore"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l,m=l||(l=d("react"));e=l;e.useCallback;var n=e.useEffect,o=e.useRef,p=e.c,q={thumbnail:{borderTopStartRadius:"x1tlxs6b",borderTopEndRadius:"x1g8br2z",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",filter:"xin470k",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0}};function r(a){var e=p(68),g=a.isSecureMessage,l=a.mediaRenderQpl,r=a.message;a=a.outgoing;g=g===void 0?!1:g;var s=c("useMWRepliesImageGetMaxDimensions")(),t=s.maxHeight;s=s.maxWidth;var u=(j||(j=c("useReStore")))(),v;e[0]!==r.replyAttachmentPlaintextHash||e[1]!==r.replySourceId||e[2]!==r.replyAttachmentId||e[3]!==r.threadKey||e[4]!==u.tables.attachments?(v=function(){var a,b=r.replyAttachmentPlaintextHash,c=(a=r.replySourceId)!=null?a:"";if(b!=null&&c!=null)return d("ReQL").fromTableAscending(u.tables.attachments).filter(function(a){return a.attachmentFbid===b&&a.messageId===c});else{a=(a=r.replyAttachmentId)!=null?a:(k||(k=d("I64"))).zero;return d("ReQL").fromTableAscending(u.tables.attachments).getKeyRange(r.threadKey,c,(k||(k=d("I64"))).to_string(a))}},e[0]=r.replyAttachmentPlaintextHash,e[1]=r.replySourceId,e[2]=r.replyAttachmentId,e[3]=r.threadKey,e[4]=u.tables.attachments,e[5]=v):v=e[5];var w;e[6]!==u||e[7]!==r?(w=[u,r],e[6]=u,e[7]=r,e[8]=w):w=e[8];var x=d("ReQLSuspense").useFirst(v,w,f.id+":73");e[9]!==x||e[10]!==l?(v=function(){x!=null&&(l==null?void 0:l.addAttachmentAnnotations==null?void 0:l.addAttachmentAnnotations(x)),l==null?void 0:l.addPoint("render-reply-video-impl",{bool:{has_db_attachment:x!=null}})},w=[x,l],e[9]=x,e[10]=l,e[11]=v,e[12]=w):(v=e[11],w=e[12]);n(v,w);e[13]!==g||e[14]!==x?(v=g&&d("MAWGetIsMediaDownloadStatusEnabled").getIsMediaDownloadStatusEnabled()?x:null,e[13]=g,e[14]=x,e[15]=v):v=e[15];w=v;v=c("useMAWMediaStatusUIState")(w,l);v=v.downloadStatus;var y;if(x!=null)if(w!=null&&v!=="downloaded")y=null;else if(b("cr:9765")==null||!g){e[16]!==x?(w=d("LSMediaUrlAttachment").previewUrl(x),e[16]=x,e[17]=w):w=e[17];y=w}else{e[18]!==x.attachmentFbid||e[19]!==l?(v=b("cr:9765").getAttachmentBlobNonOptional(x.attachmentFbid,"MWRepliesVideo",l),e[18]=x.attachmentFbid,e[19]=l,e[20]=v):v=e[20];y=v}w=o(null);e[21]!==l?(v=function(a){l==null?void 0:l.endFail("load-video-error",{string:{video_error_name:a}})},e[21]=l,e[22]=v):v=e[22];var z=v;e[23]!==l?(v=function(){l==null?void 0:l.endSuccess()},e[23]=l,e[24]=v):v=e[24];v=v;if(y==null){l==null?void 0:l.endSuccess();var A;e[25]===Symbol["for"]("react.memo_cache_sentinel")?(A=h._("__JHASH__7WGJ1daCkBD__JHASH__"),e[25]=A):A=e[25];e[26]!==a?(A=m.jsx(c("MWXMessageReplyBubble.react"),{fontStyle:"italic",outgoing:a,children:A}),e[26]=a,e[27]=A):A=e[27];return A}e[28]!==r.replyMediaPreviewHeight?(a=r.replyMediaPreviewHeight!=null?(k||(k=d("I64"))).to_float(r.replyMediaPreviewHeight):void 0,e[28]=r.replyMediaPreviewHeight,e[29]=a):a=e[29];A=a;e[30]!==r.replyMediaPreviewWidth?(a=r.replyMediaPreviewWidth!=null?(k||(k=d("I64"))).to_float(r.replyMediaPreviewWidth):void 0,e[30]=r.replyMediaPreviewWidth,e[31]=a):a=e[31];a=a;if((x==null?void 0:x.previewUrlMimeType)!=null&&!g){e[32]!==z?(g=function(){return z()},e[32]=z,e[33]=g):g=e[33];var B;e[34]!==A||e[35]!==t||e[36]!==s||e[37]!==g||e[38]!==v||e[39]!==y||e[40]!==a?(B=m.jsx(c("MWXMessageImage.react"),{alt:"",height:A,maxHeight:t,maxWidth:s,onError:g,onLoad:v,src:y,width:a,xstyle:q.thumbnail}),e[34]=A,e[35]=t,e[36]=s,e[37]=g,e[38]=v,e[39]=y,e[40]=a,e[41]=B):B=e[41];g=B}else{e[42]!==z||e[43]!==v?(B=m.jsx(c("MWXVideoStatusListener.react"),{onError:z,onLoad:v,videoRef:w}),e[42]=z,e[43]=v,e[44]=B):B=e[44];e[45]===Symbol["for"]("react.memo_cache_sentinel")?(w="x1tlxs6b x1g8br2z x1gn5b1j x230xth xin470k x6ikm8r x10wlt62",e[45]=w):w=e[45];A=A!=null&&A>t?"100%":A;var C;e[46]!==t||e[47]!==s?(C={maxHeight:t,maxWidth:s},e[46]=t,e[47]=s,e[48]=C):C=e[48];t=a!=null&&a>s?"100%":a;e[49]!==A||e[50]!==y||e[51]!==C||e[52]!==t?(s=m.jsx("video",{alt:"",className:w,height:A,src:y,style:C,width:t}),e[49]=A,e[50]=y,e[51]=C,e[52]=t,e[53]=s):s=e[53];e[54]!==B||e[55]!==s?(a=m.jsxs(m.Fragment,{children:[B,s]}),e[54]=B,e[55]=s,e[56]=a):a=e[56];g=a}e[57]===Symbol["for"]("react.memo_cache_sentinel")?(w="x1n2onr6",e[57]=w):w=e[57];A=g;e[58]===Symbol["for"]("react.memo_cache_sentinel")?(C="x6s0dn4 x78zum5 xdt5ytf x5yr21d x17qophe xl56j7k x10l6tqk x13vifvy xh8yej3",e[58]=C):C=e[58];e[59]!==z?(t=function(){return z()},e[59]=z,e[60]=t):t=e[60];e[61]===Symbol["for"]("react.memo_cache_sentinel")?(B=i("354763"),e[61]=B):B=e[61];e[62]!==t||e[63]!==v?(s=m.jsx("div",{className:C,children:m.jsx(c("MWXImage.react"),{onError:t,onLoad:v,src:B})}),e[62]=t,e[63]=v,e[64]=s):s=e[64];e[65]!==g||e[66]!==s?(a=m.jsxs("div",{className:w,children:[A,s]}),e[65]=g,e[66]=s,e[67]=a):a=e[67];return a}function a(a){var b=p(7),d;b[0]!==a?(d=babelHelpers["extends"]({},a),b[0]=a,b[1]=d):d=b[1];var e;b[2]!==d.mediaRenderQpl?(a=function(){var a;(a=d.mediaRenderQpl)==null?void 0:a.addPoint("render-replies-video")},e=[d.mediaRenderQpl],b[2]=d.mediaRenderQpl,b[3]=a,b[4]=e):(a=b[3],e=b[4]);n(a,e);b[5]!==d?(a=m.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWRepliesVideo",children:m.jsx(r,babelHelpers["extends"]({},d))}),b[5]=d,b[6]=a):a=b[6];return a}g["default"]=a}),226);
__d("MWRepliedMessage.react",["MWBlockedTombstoneMessage.react","MWBlockingProtectionContext.react","MWGroupBlockingProtectionUtils","MWPBaseRepliedMessage.react","MWRepliesAttachment.react","MWRepliesExpired.react","MWRepliesGIF.react","MWRepliesMedia.react","MWRepliesRemoved.react","MWRepliesRollcallContribution.react","MWRepliesSticker.react","MWRepliesStory.react","MWRepliesText.react","MWRepliesUnavailable.react","MWRepliesVideo.react","cr:6968","react","useMWJumpToMessage"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));e=h;var j=e.useEffect,k=e.c;function a(a){var e=k(20),f=a.isSecureMessage,g=a.mediaRenderQpl,h=a.message;a=a.outgoing;f=f===void 0?!1:f;var l=c("MWBlockingProtectionContext.react").useHook();l=l.findMessageId;var m=d("MWGroupBlockingProtectionUtils").useMWIsMessageSentByBlockedContact(h.replyToUserId,h.threadKey);if(e[0]!==m||e[1]!==h.replySourceId||e[2]!==l){var n;n=m&&!l((n=h.replySourceId)!=null?n:"");e[0]=m;e[1]=h.replySourceId;e[2]=l;e[3]=n}else n=e[3];var o=n,p=c("useMWJumpToMessage")("Pinned");e[4]!==g||e[5]!==o?(m=function(){g==null?void 0:g.addPoint("render-replied-message",{bool:{show_blocking_tombstone:o}})},l=[g,o],e[4]=g,e[5]=o,e[6]=m,e[7]=l):(m=e[6],l=e[7]);j(m,l);if(o){var q=h.replySourceTimestampMs,r=h.replySourceId;e[8]!==r||e[9]!==q||e[10]!==p?(n=function(){r!=null&&q&&p(r,q)},e[8]=r,e[9]=q,e[10]=p,e[11]=n):n=e[11];e[12]!==h.messageId||e[13]!==n?(m=i.jsx(d("MWBlockedTombstoneMessage.react").MWBlockedTombstoneMessage,{messageId:h.messageId,onClick:n,source:d("MWBlockedTombstoneMessage.react").MWBlockedTombstoneMessageSource.REPLIED_TO}),e[12]=h.messageId,e[13]=n,e[14]=m):m=e[14];return m}if(e[15]!==f||e[16]!==g||e[17]!==h||e[18]!==a){n=i.jsx(c("MWPBaseRepliedMessage.react"),{isSecureMessage:f,mediaRenderQpl:g,message:h,outgoing:a,renderAttachment:c("MWRepliesAttachment.react"),renderExpiredMessage:c("MWRepliesExpired.react"),renderGIF:c("MWRepliesGIF.react"),renderMedia:c("MWRepliesMedia.react"),renderRaven:(l=b("cr:6968"))!=null?l:void 0,renderRemovedMessage:c("MWRepliesRemoved.react"),renderRollcallContribution:c("MWRepliesRollcallContribution.react"),renderSticker:c("MWRepliesSticker.react"),renderStory:c("MWRepliesStory.react"),renderTextMessage:c("MWRepliesText.react"),renderUnavailableMessage:c("MWRepliesUnavailable.react"),renderVideo:c("MWRepliesVideo.react")});e[15]=f;e[16]=g;e[17]=h;e[18]=a;e[19]=n}else n=e[19];return n}g["default"]=a}),98);
__d("useMWMessageRowTheme",["MWLSThreadDisplayContext","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useMemo;var i=b.c;function a(){var a=i(2),b=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();b=c("gkx")("23219")?"12px":b==="Inbox"?"16px":"8px";var e;a[0]!==b?(e={dark:{"mwp-message-list-profile-start-padding":b},light:{"mwp-message-list-profile-start-padding":b},type:"VARIABLES"},a[0]=b,a[1]=e):e=a[1];b=e;return b}g["default"]=a}),98);
;/*FB_PKG_DELIM*/

__d("CometAnimatedImagePickerSearchResult.react",["fbt","CometImage.react","CometPressable.react","CometPressableOverlay.react","gkx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;b.useCallback;var k=b.c,l=c("gkx")("23009");function a(a){var b=k(14),d=a.desiredWidth,e=a.image,f=a.onSelect;b[0]!==f||b[1]!==e?(a=function(a){a.preventDefault(),f(e)},b[0]=f,b[1]=e,b[2]=a):a=b[2];a=a;var g=e.source.width,i=e.source.height,m=d/g;b[3]!==e.media?(g=l&&e.media.preview.label!=null?e.media.preview.label:h._("__JHASH__5XI5bjHWy4W__JHASH__"),b[3]=e.media,b[4]=g):g=b[4];var n=g;b[5]!==n||b[6]!==i||b[7]!==m||b[8]!==e.source.url||b[9]!==d?(g=function(a){var b=a.focusVisible,f=a.hovered;a=a.pressed;return j.jsxs(j.Fragment,{children:[j.jsx(c("CometPressableOverlay.react"),{focusRingPosition:"inset",focusVisible:b,hovered:f,pressed:a,showFocusRing:!0}),j.jsx(c("CometImage.react"),{alt:n,height:i*m,src:e.source.url,width:d})]})},b[5]=n,b[6]=i,b[7]=m,b[8]=e.source.url,b[9]=d,b[10]=g):g=b[10];var o;b[11]!==a||b[12]!==g?(o=j.jsx(c("CometPressable.react"),{onPress:a,overlayDisabled:!0,suppressFocusRing:!0,testid:void 0,children:g}),b[11]=a,b[12]=g,b[13]=o):o=b[13];return o}g["default"]=a}),226);
__d("CometAnimatedImagePickerSearchResultsColumns.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(10),c=a.cells,d=a.numOfColumns,e=a.totalWidth,f=d>0?d:1;if(b[0]!==f||b[1]!==c||b[2]!==e){var g=Array.from(Array(f),k),h=Array(f).fill(0);c.forEach(function(a){if(a!=null){var b=h.indexOf(Math.min.apply(Math,h));g[b].push(a.element);h[b]=h[b]+a.height}});b[4]===Symbol["for"]("react.memo_cache_sentinel")?(a="x78zum5",b[4]=a):a=b[4];b[5]!==e?(d={width:e},b[5]=e,b[6]=d):d=b[6];var l;b[7]!==e||b[8]!==f?(l=function(a,b){return j.jsx("div",{className:"x78zum5 xdt5ytf",style:{width:Math.floor(e/f)},children:a},b)},b[7]=e,b[8]=f,b[9]=l):l=b[9];a=j.jsx("div",{className:a,style:d,children:g.map(l)});b[0]=f;b[1]=c;b[2]=e;b[3]=a}else a=b[3];return a}function k(){return[]}g["default"]=a}),98);
__d("CometAnimatedImagePickerSearchResults_results.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"size_bytes",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"duration_ms",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometAnimatedImagePickerSearchResults_results",selections:[{alias:null,args:null,concreteType:"MessengerPlatformResultGroup",kind:"LinkedField",name:"result_group",plural:!0,selections:[{alias:null,args:null,concreteType:"MessengerPlatformResult",kind:"LinkedField",name:"results",plural:!0,selections:[{alias:null,args:null,concreteType:"MessengerPlatformSourceMedia",kind:"LinkedField",name:"source",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"mime_type",storageKey:null},a,b,c,d,e,{alias:null,args:null,kind:"ScalarField",name:"tags",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gif_source",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MessengerPlatformMedia",kind:"LinkedField",name:"media",plural:!0,selections:[a,b,c,d,e,{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"result_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"result_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"app_fbid",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"result_next_cursor",storageKey:null}],type:"MessengerPlatformResponse",abstractKey:null}}();e.exports=a}),null);
__d("CometAnimatedImagePickerSearchResults.react",["fbt","CometAnimatedImagePickerSearchResult.react","CometAnimatedImagePickerSearchResultsColumns.react","CometAnimatedImagePickerSearchResults_results.graphql","CometPickerNullState.react","CometPickerScrollableArea.react","CometRelay","NullStateMedia","getJSEnumSafe","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));e=j;e.useCallback;var l=e.useState,m=e.c,n=5;function a(a){var e,f,g=m(15),j=a.desiredWidth,p=a.onSelect,q=a.results,r=a.scrollKey,s=a.twoColumns;a=a.xstyle;q=d("CometRelay").useFragment(i!==void 0?i:i=b("CometAnimatedImagePickerSearchResults_results.graphql"),q);var t=(e=q==null?void 0:(e=q.result_group)==null?void 0:(e=e[0])==null?void 0:e.results.length)!=null?e:0;e=l(n);var u=e[0],v=e[1];g[0]!==t?(e=function(){return v(function(a){return Math.min(a+n,t)})},g[0]=t,g[1]=e):e=g[1];e=e;f=q==null?void 0:(f=q.result_group[0])==null?void 0:(f=f.results[0])==null?void 0:f.result_id;var w=l(null),x=w[0];w=w[1];x!==f&&(w(f),v(n));var y;if(g[2]!==q||g[3]!==u||g[4]!==s||g[5]!==j||g[6]!==p){x=Symbol["for"]("react.early_return_sentinel");bb0:{var z={ANIMATION:1,PHOTO:0,REEL:4,STICKER:3,VIDEO:2};if(!q||!q.result_group||q.result_group.length===0||!q.result_group[0]){g[9]===Symbol["for"]("react.memo_cache_sentinel")?(w=k.jsx(c("CometPickerNullState.react"),{body:h._("__JHASH__AE_gV8_hyrV__JHASH__"),icon:c("NullStateMedia")}),g[9]=w):w=g[9];x=w;break bb0}f=q.result_group[0].results;var A=q.result_next_cursor;w=f.map(function(a,b){var d,e=a.media[0],f=a.source;if(e==null||f==null)return;if(b>u)return null;e={preview:{durationMs:(b=e.duration_ms)!=null?b:0,height:(b=e.height)!=null?b:0,label:(b=e.label)!=null?b:null,sizeBytes:(b=e.size_bytes)!=null?b:0,url:(b=f.url)!=null?b:"",width:(b=e.width)!=null?b:0}};f={durationMs:(b=f.duration_ms)!=null?b:0,gifSource:(b=f.gif_source)!=null?b:null,height:(b=f.height)!=null?b:0,mimeType:(b=f.mime_type)!=null?b:"",sizeBytes:(b=f.size_bytes)!=null?b:0,tags:(b=f.tags)!=null?b:null,title:(b=f.title)!=null?b:"",url:(b=f.url)!=null?b:"",width:(b=f.width)!=null?b:0};b=(b=a.result_type)!=null?b:"ANIMATION";var g=s?j/2:j;return{element:k.jsx(c("CometAnimatedImagePickerSearchResult.react"),{desiredWidth:g,image:{cursor:(d=A)!=null?d:"",media:e,platformFBID:(d=a.app_fbid)!=null?d:"",resultID:(e=a.result_id)!=null?e:"",source:f,type:(d=c("getJSEnumSafe")(z,b))!=null?d:1},onSelect:p},(e=a.result_id)!=null?e:void 0),height:f.height*(g/f.width)}});s?y=k.jsx(c("CometAnimatedImagePickerSearchResultsColumns.react"),{cells:w,numOfColumns:2,totalWidth:j}):y=w.map(o)}g[2]=q;g[3]=u;g[4]=s;g[5]=j;g[6]=p;g[7]=y;g[8]=x}else y=g[7],x=g[8];if(x!==Symbol["for"]("react.early_return_sentinel"))return x;g[10]!==e||g[11]!==r||g[12]!==a||g[13]!==y?(f=k.jsx(c("CometPickerScrollableArea.react"),{horizontal:!1,onScrollBottom:e,scrollKey:r,xstyle:a,children:y}),g[10]=e,g[11]=r,g[12]=a,g[13]=y,g[14]=f):f=g[14];return f}function o(a){return a==null?void 0:a.element}g["default"]=a}),226);
__d("CometAnimatedImagePickerSearchResultsRootQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6727291323998444"}),null);
__d("CometAnimatedImagePickerSearchResultsRootQuery.graphql",["CometAnimatedImagePickerSearchResultsRootQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"media_height"},c={defaultValue:null,kind:"LocalArgument",name:"media_width"},d={defaultValue:null,kind:"LocalArgument",name:"query_type"},e={defaultValue:null,kind:"LocalArgument",name:"result_types"},f={defaultValue:null,kind:"LocalArgument",name:"scale"},g={defaultValue:null,kind:"LocalArgument",name:"search_interface"},h={defaultValue:null,kind:"LocalArgument",name:"search_query"},i=[{kind:"Literal",name:"count",value:40},{kind:"Variable",name:"media_height",variableName:"media_height"},{kind:"Variable",name:"media_scale",variableName:"scale"},{kind:"Variable",name:"media_width",variableName:"media_width"},{kind:"Variable",name:"query",variableName:"search_query"},{kind:"Variable",name:"query_type",variableName:"query_type"},{kind:"Variable",name:"result_types",variableName:"result_types"},{kind:"Variable",name:"search_interface",variableName:"search_interface"}],j={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"size_bytes",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"duration_ms",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null};return{fragment:{argumentDefinitions:[a,c,d,e,f,g,h],kind:"Fragment",metadata:null,name:"CometAnimatedImagePickerSearchResultsRootQuery",selections:[{alias:null,args:i,concreteType:"MessengerPlatformResponse",kind:"LinkedField",name:"comet_external_media",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometAnimatedImagePickerSearchResults_results"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[d,e,h,c,a,f,g],kind:"Operation",name:"CometAnimatedImagePickerSearchResultsRootQuery",selections:[{alias:null,args:i,concreteType:"MessengerPlatformResponse",kind:"LinkedField",name:"comet_external_media",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerPlatformResultGroup",kind:"LinkedField",name:"result_group",plural:!0,selections:[{alias:null,args:null,concreteType:"MessengerPlatformResult",kind:"LinkedField",name:"results",plural:!0,selections:[{alias:null,args:null,concreteType:"MessengerPlatformSourceMedia",kind:"LinkedField",name:"source",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"mime_type",storageKey:null},j,k,l,m,n,{alias:null,args:null,kind:"ScalarField",name:"tags",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gif_source",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MessengerPlatformMedia",kind:"LinkedField",name:"media",plural:!0,selections:[j,k,l,m,n,{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"result_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"result_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"app_fbid",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"result_next_cursor",storageKey:null}],storageKey:null}]},params:{id:b("CometAnimatedImagePickerSearchResultsRootQuery_facebookRelayOperation"),metadata:{},name:"CometAnimatedImagePickerSearchResultsRootQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("CometAnimatedImagePickerSearchResultsRoot.react",["CometAnimatedImagePickerSearchResults.react","CometAnimatedImagePickerSearchResultsRootQuery.graphql","CometErrorBoundary.react","CometRelay","WebPixelRatio","react","useInvalidNumberThrowsViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));e=i;e.useMemo;var k=e.c;function l(a){var e=k(15),f=a.mediaHeight,g=a.mediaWidth,i=a.onSelect,l=a.searchInterface,m=a.searchQuery,n=a.twoColumns;a=a.xstyle;l=l===void 0?"FB_INTERFACE":l;c("useInvalidNumberThrowsViolation")(g);var o=m===""?"TRENDING":"SEARCH",p,q;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(p=["ANIMATION"],q=d("WebPixelRatio").get(),e[0]=p,e[1]=q):(p=e[0],q=e[1]);e[2]!==f||e[3]!==g||e[4]!==o||e[5]!==l||e[6]!==m?(p={media_height:f,media_width:g,query_type:o,result_types:p,scale:q,search_interface:l,search_query:m},e[2]=f,e[3]=g,e[4]=o,e[5]=l,e[6]=m,e[7]=p):p=e[7];q=p;f=q;g=d("CometRelay").useLazyLoadQuery(h!==void 0?h:h=b("CometAnimatedImagePickerSearchResultsRootQuery.graphql"),f);if(g.comet_external_media==null)return null;e[8]!==f.media_width||e[9]!==i||e[10]!==g.comet_external_media||e[11]!==m||e[12]!==n||e[13]!==a?(o=j.jsx(c("CometAnimatedImagePickerSearchResults.react"),{desiredWidth:f.media_width,onSelect:i,results:g.comet_external_media,scrollKey:m,twoColumns:n,xstyle:a}),e[8]=f.media_width,e[9]=i,e[10]=g.comet_external_media,e[11]=m,e[12]=n,e[13]=a,e[14]=o):o=e[14];return o}function a(a){return j.jsx(c("CometErrorBoundary.react"),{children:j.jsx(l,babelHelpers["extends"]({},a))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometAnimatedImagePickerCard.react",["CometAnimatedImagePickerSearchResultsRoot.react","react","useDebouncedValue"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(7),d=a.mediaHeight,e=a.mediaWidth,f=a.onSelect,g=a.searchQuery,h=a.twoColumns;a=a.xstyle;h=h===void 0?!1:h;g=c("useDebouncedValue")(g,200);var k;b[0]!==d||b[1]!==e||b[2]!==f||b[3]!==g||b[4]!==h||b[5]!==a?(k=j.jsx(c("CometAnimatedImagePickerSearchResultsRoot.react"),{mediaHeight:d,mediaWidth:e,onSelect:f,searchQuery:g,twoColumns:h,xstyle:a}),b[0]=d,b[1]=e,b[2]=f,b[3]=g,b[4]=h,b[5]=a,b[6]=k):k=b[6];return k}g["default"]=a}),98);
__d("CometPickerSearchBox.react",["fbt","ix","CometComponentWithKeyCommands.react","CometKeys","CometRoundedTextInput.react","FDSIcon.react","TetraCircleButton.react","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react"));b=j;b.useCallback;var l=b.useEffect,m=b.useRef,n=b.c,o={searchWrapper:{paddingTop:"x1y1aw1k",paddingEnd:"x1pi30zi",paddingBottom:"xwib8y2",paddingStart:"x1swvt13",$$css:!0}};function a(a){var b=n(25),e=a.attachmentType,f=a.searchQuery,g=a.setSearchQuery;a=a.xstyle;e=e===void 0?"GIF":e;var j=m(null),q,r;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(q=function(){var a=j.current;if(a==null)return;a.focus()},r=[],b[0]=q,b[1]=r):(q=b[0],r=b[1]);l(q,r);b[2]===Symbol["for"]("react.memo_cache_sentinel")?(q={key:c("CometKeys").ENTER},b[2]=q):q=b[2];b[3]!==e?(r=[{command:q,description:h._("__JHASH__XE3uPiTIwgK__JHASH__",[h._param("attachment_type",e)]),handler:p,triggerFromInputs:!0}],b[3]=e,b[4]=r):r=b[4];q=r;b[5]!==g?(r=function(a){a.target.value!==void 0&&g(a.target.value)},b[5]=g,b[6]=r):r=b[6];r=r;var s;b[7]!==a?(s=[o.searchWrapper,a],b[7]=a,b[8]=s):s=b[8];b[9]!==f.length||b[10]!==g?(a=f.length!==0?k.jsx(c("TetraCircleButton.react"),{color_DEPRECATED:"secondary",icon:d("fbicon")._(i("478232"),16),label:h._("__JHASH__51rvDPZ5aSG__JHASH__"),onPress:function(){return g("")},size:24}):void 0,b[9]=f.length,b[10]=g,b[11]=a):a=b[11];var t;b[12]!==e?(t=h._("__JHASH__jFZ79lfXEzo__JHASH__",[h._param("attachment type",e)]),b[12]=e,b[13]=t):t=b[13];b[14]===Symbol["for"]("react.memo_cache_sentinel")?(e=k.jsx(c("FDSIcon.react"),{color:"tertiary",icon:d("fbicon")._(i("491282"),16),size:16}),b[14]=e):e=b[14];var u;b[15]===Symbol["for"]("react.memo_cache_sentinel")?(u=h._("__JHASH__kdfT6xnNPmM__JHASH__"),b[15]=u):u=b[15];f=(f=f)!=null?f:"";b[16]!==a||b[17]!==t||b[18]!==r||b[19]!==f?(e=k.jsx(c("CometRoundedTextInput.react"),{addOnEnd:a,"aria-expanded":!1,"aria-label":t,autoComplete:"off",icon:e,onChange:r,placeholder:u,ref:j,role:"combobox",spellCheck:!1,type:"text",value:f}),b[16]=a,b[17]=t,b[18]=r,b[19]=f,b[20]=e):e=b[20];b[21]!==q||b[22]!==s||b[23]!==e?(u=k.jsx(c("CometComponentWithKeyCommands.react"),{commandConfigs:q,xstyle:s,children:e}),b[21]=q,b[22]=s,b[23]=e,b[24]=u):u=b[24];return u}function p(){}g["default"]=a}),226);
__d("CometUFIAnimatedImagePickerCard.react",["CometAnimatedImagePickerCard.react","CometColumn.react","CometColumnItem.react","CometPickerBasicStackingLayout.react","CometPickerSearchBox.react","CometPlaceholder.react","CometProgressIndicator.react","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;var j=b.useState,k=b.c,l=c("gkx")("22681"),m=274,n={popover:{height:"x1hie0zf",width:"xlro9se",$$css:!0},scrollableAreaForIE11:{height:"x1vd4hg5",$$css:!0}};function a(a){var b=k(12),d=a.onClose,e=a.onSelect;b[0]!==d||b[1]!==e?(a=function(a){d(),e(a)},b[0]=d,b[1]=e,b[2]=a):a=b[2];a=a;var f=j(""),g=f[0];f=f[1];var h;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(h=i.jsx(c("CometColumn.react"),{align:"center",expanding:!0,verticalAlign:"center",children:i.jsx(c("CometColumnItem.react"),{children:i.jsx(c("CometProgressIndicator.react"),{})})}),b[3]=h):h=b[3];b[4]!==a||b[5]!==g?(h=i.jsx(c("CometPlaceholder.react"),{fallback:h,children:i.jsx(c("CometAnimatedImagePickerCard.react"),{mediaWidth:m,onSelect:a,searchQuery:g,xstyle:l&&n.scrollableAreaForIE11})}),b[4]=a,b[5]=g,b[6]=h):h=b[6];b[7]!==g?(a=i.jsx(c("CometPickerSearchBox.react"),{searchQuery:g,setSearchQuery:f},0),b[7]=g,b[8]=a):a=b[8];b[9]!==h||b[10]!==a?(f=i.jsx(c("CometPickerBasicStackingLayout.react"),{xstyle:n.popover,children:{content:h,header:a}}),b[9]=h,b[10]=a,b[11]=f):f=b[11];return f}g["default"]=a}),98);
__d("XUFICommentGIFPreprocessController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ufi/comment/gif_preprocess/",{})}),null);
__d("CometUFIGIFPickerPopoverForLexical.react",["ARIA_LABEL_PLACEHOLDER_FIXME","CometPopover_DEPRECATED.react","CometUFIAnimatedImagePickerCard.react","XUFICommentGIFPreprocessController","cometAsyncFetch","promiseDone","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;var j=b.c;function a(a){var b=j(8),d=a.onClose,e=a.onSelect;a=a.pluginProps;var f=a.setComposerState,g=a.editor;b[0]!==f||b[1]!==g||b[2]!==e||b[3]!==d?(a=function(a){c("promiseDone")(c("cometAsyncFetch")(c("XUFICommentGIFPreprocessController").getURIBuilder().getURI().toString(),{data:{gif_url:a.source.url},method:"POST"}));var b=function(b){return babelHelpers["extends"]({},b,{attachment:{__type:"GIF",data:a}})};f(b);g.focus();e&&e();d()},b[0]=f,b[1]=g,b[2]=e,b[3]=d,b[4]=a):a=b[4];a=a;var h;b[5]!==d||b[6]!==a?(h=i.jsx(c("CometPopover_DEPRECATED.react"),{"aria-label":c("ARIA_LABEL_PLACEHOLDER_FIXME"),withArrow:!0,children:i.jsx(c("CometUFIAnimatedImagePickerCard.react"),{onClose:d,onSelect:a})}),b[5]=d,b[6]=a,b[7]=h):h=b[7];return h}g["default"]=a}),98);